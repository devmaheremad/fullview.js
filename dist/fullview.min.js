!function(s,t,n,e){var o="fullViewJS";function i(t,i){this._defaults=s.fn.fullView.defaults,this.options=s.extend({},this._defaults,i),this.mainView=s(t),this.views=s(t).children(),this._name=o,this.currentView=0,this.isScrolling=!1,this.offsets=[],this.$dotsElement=null,this.$navbar=null,this.lastY=null,this.lastX=null,this.init()}s.extend(i.prototype,{init:function(){this.buildCache(),this.utilites(),this.settingUp(),this.bindEvents()},destroy:function(){this.unbindEvents(),this.$views.removeData()},buildCache:function(){this.$window=s(t),this.$document=s(n),this.$htmlBody=s("html, body"),this.$views=s(this.views),this.options.navbar!==e&&"string"==typeof this.options.navbar&&s(this.options.navbar).length&&(this.$navbar=s(this.options.navbar))},utilites:function(){this.createDots=function(){var t=s("#fv-dots");t.length&&t.remove();var i=s("<div>").attr("id","fv-dots").append("<ul>");return this.$views.each(function(t){i.find("ul").append('<li><a data-scroll="'+t+'" href="#" class=""><span></span></a></li>')}),"right"!==this.options.dotsPosition&&i.css({left:"4%"}),s("body").append(i),i.find("a")},this.changeActiveStatus=function(t){this.$views.removeClass("active").eq(t).addClass("active"),this.options.dots&&this.$dotsElement.removeClass("active").eq(t).addClass("active"),this.$anchors.length&&this.$anchors.removeClass("active").filter('[data-scroll="'+t+'"]').addClass("active")},this.scrollTo=function(t){var i=this;this.$htmlBody.stop(!0).animate({scrollTop:this.offsets[t].offset},{easing:"swing"===this.options.easing?"swing":"linear",duration:350}).promise().then(function(){i.changeActiveStatus(t),!0===i.isScrolling&&setTimeout(function(){i.isScrolling=!1},800),i.callback()})},this.scrollByWheel=function(t){s(":animated").length||this.isScrolling||(this.isScrolling=!0,0<t.originalEvent.wheelDelta||t.originalEvent.detail<0?this.scrollUp():this.scrollDown())},this.scrollDown=function(){return this.currentView<this.$views.length-1?(this.currentView++,this.scrollTo(this.currentView)):this.currentView===this.$views.length-1&&(this.isScrolling=!1,this.options.backToTop&&(this.isScrolling=!0,this.currentView=0,this.scrollTo(this.currentView))),this},this.scrollUp=function(){return 0<this.currentView?(this.currentView--,this.scrollTo(this.currentView)):0===this.currentView&&(this.isScrolling=!1),this}},settingUp:function(){var s,t,i=this.$window.height();this.$views.css({height:i}),this.currentView=0,this.isScrolling=!1,this.$views.removeClass("active"),n.body.scrollTop=0,n.documentElement.scrollTop=0,this.offsets.splice(0,this.offsets.length),this.$views.each(function(t){var i=this.$views.eq(t).attr("id"),s=this.$views.eq(t).offset().top;this.offsets.push({position:t,anchor:i,offset:s})}.bind(this)),null!==this.$navbar&&(s=this.$navbar,t="a[href='"+this.offsets.filter(function(t){if(t.anchor===e)return!1;var i=s.find('a[href="#'+t.anchor+'"]');return i.length&&i.attr("data-scroll",t.position),!0}).map(function(t){return"#"+t.anchor}).join("'], a[href='")+"']",this.$anchors=this.$navbar.find(t)),this.options.dots&&(this.$dotsElement=this.createDots()),this.changeActiveStatus(this.currentView)},bindEvents:function(){var n=this;n.$window.on("resize."+n._name,n.settingUp.bind(n)),null!==n.$dotsElement&&n.$dotsElement.on("click."+n._name,function(t){t.preventDefault(),s(":animated").length||(n.currentView=s(this).attr("data-scroll"),n.scrollTo(n.currentView))}),n.$anchors!==e&&0<n.$anchors.length&&n.$anchors.on("click."+n._name,function(t){t.preventDefault(),s(":animated").length||(n.currentView=s(this).attr("data-scroll"),n.scrollTo(n.currentView))}),n.$window.on("DOMMouseScroll mousewheel."+n._name,function(t){n.scrollByWheel(t)}),n.options.keyboardScrolling&&n.$document.on("keydown."+n._name,function(t){if(!s(":animated").length&&!n.isScrolling)switch(t.keyCode?t.keyCode:t.which){case 40:case 32:n.scrollDown();break;case 38:case 33:n.scrollUp();break;case 34:n.scrollDown()}}),n.$views.on("touchstart."+n._name,function(t){n.lastY=t.originalEvent.touches[0].clientY,n.lastX=t.originalEvent.touches[0].clientX}),n.$views.on("touchend."+n._name,function(t){var i=t.originalEvent.changedTouches[0].clientY,s=t.originalEvent.changedTouches[0].clientX;t.target===t.currentTarget&&(s<n.lastX||n.lastX,n.lastY>i+5?n.scrollDown():n.lastY<i-5&&n.scrollUp())})},unbindEvents:function(){this.$window.off("."+this._name),this.$document.off("."+this._name),this.$views.off("."+this._name)},callback:function(){var t=this.options.onViewChange;"function"==typeof t&&t(this.$views.eq(this.currentView))}}),s.fn.fullView=function(t){return t===e||"object"==typeof t?this.each(function(){s.data(this,"plugin_"+o)||s.data(this,"plugin_"+o,new i(this,t))}):this},s.fn.fullView.defaults={navbar:e,dots:!0,dotsPosition:"right",easing:"linear",backToTop:!1,keyboardScrolling:!0,onViewChange:null}}(jQuery,window,document);
//# sourceMappingURL=fullview.min.js.map
