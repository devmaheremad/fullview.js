{"version":3,"file":"fullview.min.js","sources":["fullview.js"],"sourcesContent":["/*!\r\n * fullView 1.0\r\n * https://github.com/seeratawan01/fullview.js\r\n *\r\n * @license GPLv3 for open source use only\r\n *\r\n * Copyright (C) 2020 https://github.com/seeratawan01/fullview.js/blob/master/LICENSE\r\n */\r\n; (function ($, window, document, undefined) {\r\n\r\n    var fullView = 'fullViewJS';\r\n\r\n    // Create the plugin constructor\r\n    function FullView(views, options) {\r\n        this._defaults = $.fn.fullView.defaults;\r\n\r\n        this.options = $.extend({}, this._defaults, options);\r\n        this.mainView = $(views);\r\n        this.views = $(views).children();\r\n\r\n        this._name = fullView;\r\n\r\n        this.currentView = 0;\r\n        this.isScrolling = false;\r\n        this.offsets = [];\r\n        this.$dotsElement = null;\r\n        this.$navbar = null;\r\n        this.ts = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    // Avoid FullView.prototype conflicts\r\n    $.extend(FullView.prototype, {\r\n\r\n        // Initialization logic\r\n        init: function () {\r\n\r\n            this.buildCache();\r\n            this.utilites();\r\n            this.settingUp();\r\n            this.bindEvents();\r\n        },\r\n\r\n        // Remove plugin instance completely\r\n        destroy: function () {\r\n            this.unbindEvents();\r\n            this.$views.removeData();\r\n        },\r\n\r\n        // Cache DOM nodes for performance\r\n        buildCache: function () {\r\n\r\n            this.$window = $(window);\r\n            this.$document = $(document);\r\n            this.$htmlBody = $(\"html, body\");\r\n\r\n            this.$views = $(this.views);\r\n\r\n            if (this.options.navbar !== undefined && typeof this.options.navbar === 'string') {\r\n\r\n                if ($(this.options.navbar).length) {\r\n                    this.$navbar = $(this.options.navbar)\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        utilites: function () {\r\n            this.createDots = function createDots() {\r\n                var $dots = $(\"#fv-dots\");\r\n                if ($dots.length) {\r\n                    $dots.remove();\r\n                }\r\n                var div = $(\"<div>\").attr(\"id\", \"fv-dots\").append('<ul>');\r\n                this.$views.each(function (i) {\r\n                    div.find('ul').append('<li><a data-scroll=\"' + i + '\" href=\"#\" class=\"\"><span></span></a></li>')\r\n                });\r\n                if (this.options.dotsPosition !== 'right') {\r\n                    div.css({\r\n                        left: '4%'\r\n                    });\r\n                }\r\n\r\n                $('body').append(div);\r\n\r\n                return div.find('a');\r\n            };\r\n\r\n            this.changeActiveStatus = function changeActiveStatus($view) {\r\n                this.$views.removeClass('active').eq($view).addClass('active');\r\n                if (this.options.dots) {\r\n                    this.$dotsElement.removeClass('active').eq($view).addClass('active')\r\n                }\r\n            }\r\n\r\n            this.scrollTo = function scrollTo($view) {\r\n\r\n                var plugin = this;\r\n\r\n                this.$htmlBody.stop(true).animate(\r\n                    {\r\n                        scrollTop: this.offsets[$view].offset\r\n                    }, {\r\n                    easing: this.options.easing === 'swing' ? 'swing' : 'linear',\r\n                    duration: 350\r\n                }).promise().then(function () {\r\n                    plugin.changeActiveStatus($view);\r\n                    if (plugin.isScrolling === true) {\r\n                        setTimeout(function () {\r\n                            plugin.isScrolling = false;\r\n                        }, 800);\r\n                    }\r\n                    plugin.callback();\r\n                });\r\n            }\r\n\r\n            this.scrollToAnchor = function scrollToAnchor($anchor) {\r\n\r\n                var plugin = this;\r\n\r\n                var seletedAnchor = plugin.offsets.filter(function (obj) {\r\n                    return (obj.anchor === $anchor);\r\n                })[0];\r\n\r\n                if (!$(':animated').length && !plugin.isScrolling) {\r\n                    plugin.currentView = seletedAnchor.position;\r\n                    plugin.scrollTo(plugin.currentView);\r\n                }\r\n\r\n            }\r\n\r\n            this.scrollByWheel = function scrollByWheel(event) {\r\n\r\n                // Check if Already scrolling\r\n                if (!$(':animated').length && !this.isScrolling) {\r\n                    this.isScrolling = true;\r\n                    if (event.originalEvent.wheelDelta > 0 || event.originalEvent.detail < 0) {\r\n                        // scroll up\r\n                        this.scrollUp();\r\n                    }\r\n                    else {\r\n                        // scroll down\r\n                        this.scrollDown();\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.scrollDown = function scrollDown() {\r\n                if (this.currentView < this.$views.length - 1) {\r\n                    this.currentView++;\r\n                    this.scrollTo(this.currentView);\r\n                }\r\n                else if (this.currentView === this.$views.length - 1) {\r\n                    this.isScrolling = false;\r\n                    if (this.options.backToTop) {\r\n                        this.currentView = 0;\r\n                        this.scrollTo(this.currentView);\r\n                    }\r\n                }\r\n                return this;\r\n            }\r\n\r\n            this.scrollUp = function scrollUp() {\r\n\r\n                if (this.currentView > 0) {\r\n                    this.currentView--;\r\n                    this.scrollTo(this.currentView);\r\n                } else if (this.currentView === 0) {\r\n                    this.isScrolling = false;\r\n                }\r\n                return this;\r\n            }\r\n        },\r\n\r\n        settingUp: function () {\r\n            var vh = this.$window.height();\r\n            var vw = this.$window.width();\r\n\r\n            // Setting Viewport\r\n            this.$views.css({\r\n                height: vh,\r\n                width: vw\r\n            });\r\n            this.currentView = 0;\r\n            this.isScrolling = false;\r\n            this.$views.removeClass('active');\r\n\r\n            // Stick to the top \r\n            document.body.scrollTop = 0;\r\n            document.documentElement.scrollTop = 0;\r\n\r\n            // Calculating Offsets\r\n            this.offsets.splice(0, this.offsets.length)\r\n            this.$views.each(function (i) {\r\n                var anchor = this.$views.eq(i).attr('id');\r\n                var viewOffset = this.$views.eq(i).offset().top;\r\n\r\n                this.offsets.push({\r\n                    position: i,\r\n                    anchor: anchor,\r\n                    offset: viewOffset\r\n                })\r\n\r\n            }.bind(this));\r\n\r\n            if (this.$navbar !== null) {\r\n\r\n                var seletedAnchor = this.offsets.filter(function (obj) {\r\n                    if (obj.anchor !== undefined) {\r\n\r\n                        return true;\r\n                    }\r\n                    return false; // skip\r\n                }).map(function (obj) { return (\"#\" + obj.anchor); });\r\n\r\n                var queryString = \"a[href='\" + seletedAnchor.join(\"'], a[href='\") + \"']\";\r\n\r\n                this.$anchors = this.$navbar.find(queryString)\r\n\r\n            }\r\n\r\n\r\n            if (this.options.dots) {\r\n                // Creating Dots\r\n                this.$dotsElement = this.createDots();\r\n            }\r\n\r\n            // Setting Initail Active Status\r\n            this.changeActiveStatus(this.currentView);\r\n\r\n        },\r\n\r\n        // Bind events that trigger methods\r\n        bindEvents: function () {\r\n            var plugin = this;\r\n\r\n            // On Window Resize\r\n            plugin.$window.on('resize' + '.' + plugin._name, plugin.settingUp.bind(plugin));\r\n\r\n            // On Dot Click\r\n            plugin.$dotsElement !== null ?\r\n                plugin.$dotsElement.on('click' + '.' + plugin._name, function (e) {\r\n                    e.preventDefault();\r\n                    if (!$(':animated').length) {\r\n                        plugin.currentView = $(this).attr(\"data-scroll\");\r\n                        plugin.scrollTo(plugin.currentView);\r\n                    }\r\n                }) : \"\";\r\n\r\n            // On MouseScroll\r\n            plugin.$window.on('DOMMouseScroll mousewheel' + '.' + plugin._name, function (e) {\r\n                plugin.scrollByWheel(e);\r\n            });\r\n\r\n            // On Keyboard Press\r\n            plugin.options.keyboardScrolling ?\r\n                plugin.$document.on('keydown' + '.' + plugin._name, function (e) {\r\n                    // Check if Already scrolling\r\n                    if (!$(':animated').length && !plugin.isScrolling) {\r\n                        var code = (e.keyCode ? e.keyCode : e.which);\r\n                        switch (code) {\r\n                            case 40: // Down key\r\n                                plugin.scrollDown();\r\n                                break;\r\n                            case 32: // Space Bar\r\n                                plugin.scrollDown();\r\n                                break;\r\n                            case 38: // Up key\r\n                                plugin.scrollUp();\r\n                                break;\r\n                            case 33: // Page up key\r\n                                plugin.scrollUp();\r\n                                break;\r\n                            case 34: // Page down key\r\n                                plugin.scrollDown();\r\n                                break;\r\n                        }\r\n                    }\r\n                }) : \"\"\r\n\r\n            // On Touch Devices\r\n            plugin.$views.bind('touchstart' + '.' + plugin._name, function (e) {\r\n                plugin.ts = e.originalEvent.touches[0].clientY;\r\n            });\r\n\r\n            plugin.$views.bind('touchend' + '.' + plugin._name, function (e) {\r\n                var te = e.originalEvent.changedTouches[0].clientY;\r\n                if (plugin.ts > te + 5) {\r\n                    plugin.scrollDown();\r\n                } else if (plugin.ts < te - 5) {\r\n                    plugin.scrollUp();\r\n                }\r\n            });\r\n\r\n            plugin.$anchors !== undefined && plugin.$anchors.length > 0 ?\r\n                plugin.$anchors.on('click' + '.' + plugin._name, function (e) {\r\n                    e.preventDefault();\r\n\r\n                    var anchor = $(this).attr('href');\r\n\r\n                    if (!$(':animated').length) {\r\n                        plugin.scrollToAnchor(anchor.substr(1));\r\n                    }\r\n                }) : \"\"\r\n\r\n        },\r\n\r\n        // Unbind events that trigger methods\r\n        unbindEvents: function () {\r\n            this.$window.off('.' + this._name);\r\n            this.$document.off('.' + this._name);\r\n            this.$views.off('.' + this._name);\r\n        },\r\n\r\n        callback: function () {\r\n            // Cache onViewChange option\r\n            var onViewChange = this.options.onViewChange;\r\n\r\n            if (typeof onViewChange === 'function') {\r\n                onViewChange(this.$views.eq(this.currentView));\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    $.fn.fullView = function (options) {\r\n\r\n        if (options === undefined || typeof options === 'object') {\r\n            return this.each(function () {\r\n                if (!$.data(this, \"plugin_\" + fullView)) {\r\n                    $.data(this, \"plugin_\" + fullView, new FullView(this, options));\r\n                }\r\n            })\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    $.fn.fullView.defaults = {\r\n        //Navigation\r\n        navbar: undefined,\r\n        dots: true,\r\n        dotsPosition: 'right',\r\n        //Scrolling\r\n        easing: 'linear',\r\n        backToTop: false,\r\n        // Accessibility\r\n        keyboardScrolling: true,\r\n\r\n        // Callback\r\n        onViewChange: null\r\n    };\r\n\r\n})(jQuery, window, document);"],"names":["$","window","document","undefined","fullView","FullView","views","options","this","_defaults","fn","defaults","extend","mainView","children","_name","currentView","isScrolling","offsets","$dotsElement","$navbar","ts","init","prototype","buildCache","utilites","settingUp","bindEvents","destroy","unbindEvents","$views","removeData","$window","$document","$htmlBody","navbar","length","createDots","$dots","remove","div","attr","append","each","i","find","dotsPosition","css","left","changeActiveStatus","$view","removeClass","eq","addClass","dots","scrollTo","plugin","stop","animate","scrollTop","offset","easing","duration","promise","then","setTimeout","callback","scrollToAnchor","$anchor","seletedAnchor","filter","obj","anchor","position","scrollByWheel","event","originalEvent","wheelDelta","detail","scrollUp","scrollDown","backToTop","queryString","vh","height","vw","width","body","documentElement","splice","viewOffset","top","push","bind","map","join","$anchors","on","e","preventDefault","keyboardScrolling","keyCode","which","touches","clientY","te","changedTouches","substr","off","onViewChange","data","jQuery"],"mappings":"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"}