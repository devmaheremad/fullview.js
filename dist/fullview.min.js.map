{"version":3,"file":"fullview.min.js","sources":["fullview.js"],"sourcesContent":["/*\r\n    The semi-colon before the function invocation is a safety net against\r\n    concatenated scripts and/or other plugins which may not be closed properly.\r\n\r\n    \"undefined\" is used because the undefined global variable in ECMAScript 3\r\n    is mutable (ie. it can be changed by someone else). Because we don't pass a\r\n    value to undefined when the anonymyous function is invoked, we ensure that\r\n    undefined is truly undefined. Note, in ECMAScript 5 undefined can no\r\n    longer be modified.\r\n\r\n    \"window\" and \"document\" are passed as local variables rather than global.\r\n    This (slightly) quickens the resolution process.\r\n*/\r\n; (function ($, window, document, undefined) {\r\n\r\n    var fullView = 'fullViewJS';\r\n\r\n    // Create the plugin constructor\r\n    function FullView(views, options) {\r\n        this._defaults = $.fn.fullView.defaults;\r\n\r\n        this.options = $.extend({}, this._defaults, options);\r\n\r\n        this.views = views.children();\r\n        this._name = fullView;\r\n\r\n        this.init();\r\n    }\r\n\r\n    // Avoid FullView.prototype conflicts\r\n    $.extend(FullView.prototype, {\r\n\r\n        // Initialization logic\r\n        init: function () {\r\n\r\n            this.buildCache();\r\n            this.Utilites();\r\n            this.settingUp();\r\n            this.bindEvents();\r\n        },\r\n\r\n        // Remove plugin instance completely\r\n        destroy: function () {\r\n            this.unbindEvents();\r\n            this.$views.removeData();\r\n        },\r\n\r\n        // Cache DOM nodes for performance\r\n        buildCache: function () {\r\n\r\n            this.$window = $(window);\r\n            this.$document = $(document);\r\n            this.$htmlBody = $(\"html, body\");\r\n\r\n            this.$views = $(this.views);\r\n            this.$currentView;\r\n            this.$isScrolling;\r\n            this.offsets = [];\r\n            this.$dotsElement = null;\r\n            this.ts;\r\n        },\r\n\r\n        Utilites: function () {\r\n            this.createDots = function createDots() {\r\n                var $dots = $(\"#fv-dots\");\r\n                if ($dots.length) {\r\n                    $dots.remove();\r\n                }\r\n                var div = $(\"<div>\").attr(\"id\", \"fv-dots\").append('<ul>');\r\n                this.$views.each(function (i) {\r\n                    div.find('ul').append('<li><a data-scroll=\"' + i + '\" href=\"#\" class=\"\"><span></span></a></li>')\r\n                });\r\n                if (this.options.dotsPosition !== 'right') {\r\n                    div.css({\r\n                        left: '4%'\r\n                    });\r\n                }\r\n\r\n                $('body').append(div);\r\n\r\n                return div.find('a');\r\n            };\r\n\r\n            this.changeActiveStatus = function changeActiveStatus($view) {\r\n                this.$views.removeClass('active').eq($view).addClass('active');\r\n                if (this.options.dots) {\r\n                    this.$dotsElement.removeClass('active').eq($view).addClass('active')\r\n                }\r\n            }\r\n\r\n            this.scrollTo = function scrollTo($view) {\r\n\r\n                var plugin = this;\r\n\r\n                this.$htmlBody.stop(true).animate(\r\n                    {\r\n                        scrollTop: this.offsets[$view]\r\n                    }, {\r\n                    easing: this.options.easing === 'swing' ? 'swing' : 'linear',\r\n                    duration: 350\r\n                }).promise().then(function () {\r\n                    plugin.changeActiveStatus($view);\r\n                    if (plugin.$isScrolling === true) {\r\n                        setTimeout(function () {\r\n                            plugin.$isScrolling = false;\r\n                        }, 800);\r\n                    }\r\n                    plugin.callback();\r\n                });\r\n\r\n\r\n            }\r\n\r\n            this.scrollByWheel = function scrollByWheel(event) {\r\n\r\n                // Check if Already scrolling\r\n                if (!$(':animated').length && !this.$isScrolling) {\r\n                    this.$isScrolling = true;\r\n                    if (event.originalEvent.wheelDelta > 0 || event.originalEvent.detail < 0) {\r\n                        // scroll up\r\n                        this.scrollUp();\r\n                    }\r\n                    else {\r\n                        // scroll down\r\n                        this.scrollDown();\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.scrollDown = function scrollDown() {\r\n                if (this.$currentView < this.$views.length - 1) {\r\n                    this.$currentView++;\r\n                    this.scrollTo(this.$currentView);\r\n                }\r\n                else if (this.$currentView === this.$views.length - 1) {\r\n                    this.$isScrolling = false;\r\n                }\r\n                return this;\r\n            }\r\n\r\n            this.scrollUp = function scrollUp() {\r\n\r\n                if (this.$currentView > 0) {\r\n                    this.$currentView--;\r\n                    this.scrollTo(this.$currentView);\r\n                } else if (this.$currentView === 0) {\r\n                    this.$isScrolling = false;\r\n                }\r\n                return this;\r\n            }\r\n        },\r\n\r\n        settingUp: function () {\r\n            var vh = this.$window.height();\r\n            var vw = this.$window.width();\r\n\r\n            // Setting Viewport\r\n            this.$views.css({\r\n                height: vh,\r\n                width: vw\r\n            });\r\n            this.$currentView = 0;\r\n            this.$isScrolling = false;\r\n            this.$views.removeClass('active');\r\n\r\n            // Stick to the top \r\n            document.body.scrollTop = 0;\r\n            document.documentElement.scrollTop = 0;\r\n\r\n            // Calculating Offsets\r\n            this.offsets.splice(0, this.offsets.length)\r\n            this.$views.each(function (i) {\r\n                var viewOffset = this.$views.eq(i).offset().top;\r\n                this.offsets.push(viewOffset);\r\n            }.bind(this));\r\n\r\n\r\n            if (this.options.dots) {\r\n                // Creating Dots\r\n                this.$dotsElement = this.createDots();\r\n            }\r\n\r\n            // Setting Initail Active Status\r\n            this.changeActiveStatus(this.$currentView);\r\n\r\n        },\r\n\r\n        // Bind events that trigger methods\r\n        bindEvents: function () {\r\n            var plugin = this;\r\n\r\n            // On Window Resize\r\n            plugin.$window.on('resize' + '.' + plugin._name, plugin.settingUp.bind(plugin));\r\n\r\n            // On Dot Click\r\n            plugin.$dotsElement !== null ?\r\n                plugin.$dotsElement.on('click' + '.' + plugin._name, function (e) {\r\n                    e.preventDefault();\r\n                    if (!$(':animated').length) {\r\n                        plugin.$currentView = $(this).attr(\"data-scroll\");\r\n                        plugin.scrollTo(plugin.$currentView);\r\n                        // console.log(plugin.$currentView)\r\n                    }\r\n                }) : \"\";\r\n\r\n            // On MouseScroll\r\n            plugin.$window.on('DOMMouseScroll mousewheel' + '.' + plugin._name, function (e) {\r\n                plugin.scrollByWheel(e);\r\n            });\r\n\r\n            // On Keyboard Press\r\n            plugin.$document.on('keydown' + '.' + plugin._name, function (e) {\r\n                // Check if Already scrolling\r\n                if (!$(':animated').length && !plugin.$isScrolling) {\r\n                    var code = (e.keyCode ? e.keyCode : e.which);\r\n                    switch (code) {\r\n                        case 40: // Down key\r\n                            plugin.scrollDown();\r\n                            break;\r\n                        case 32: // Space Bar\r\n                            plugin.scrollDown();\r\n                            break;\r\n                        case 38: // Up key\r\n                            plugin.scrollUp();\r\n                            break;\r\n                        case 33: // Page up key\r\n                            plugin.scrollUp();\r\n                            break;\r\n                        case 34: // Page down key\r\n                            plugin.scrollDown();\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n\r\n            // On Touch Devices\r\n            plugin.$document.bind('touchstart' + '.' + plugin._name, function (e) {\r\n                plugin.ts = e.originalEvent.touches[0].clientY;\r\n            });\r\n\r\n            plugin.$document.bind('touchend' + '.' + plugin._name, function (e) {\r\n                var te = e.originalEvent.changedTouches[0].clientY;\r\n                if (plugin.ts > te) {\r\n                    plugin.scrollDown();\r\n                } else {\r\n                    plugin.scrollUp();\r\n                }\r\n            });\r\n\r\n        },\r\n\r\n        // Unbind events that trigger methods\r\n        unbindEvents: function () {\r\n            this.$window.off('.' + this._name);\r\n            this.$document.off('.' + this._name);\r\n        },\r\n\r\n\r\n        callback: function () {\r\n            // Cache onViewChange option\r\n            var onViewChange = this.options.onViewChange;\r\n\r\n            if (typeof onViewChange === 'function') {\r\n                onViewChange(this.$views.eq(this.$currentView));\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    $.fn.fullView = function (options) {\r\n\r\n        if (!$.data(this, \"plugin_\" + fullView)) {\r\n            $.data(this, \"plugin_\" + fullView, new FullView(this, options));\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    $.fn.fullView.defaults = {\r\n        dots: true,\r\n        dotsPosition: 'right',\r\n        easing: 'swing',\r\n\r\n        onViewChange: null\r\n    };\r\n\r\n})(jQuery, window, document);"],"names":["$","window","document","fullView","FullView","views","options","this","_defaults","fn","defaults","extend","children","_name","init","prototype","buildCache","Utilites","settingUp","bindEvents","destroy","unbindEvents","$views","removeData","$window","$document","$htmlBody","$currentView","$isScrolling","offsets","$dotsElement","ts","createDots","$dots","length","remove","div","attr","append","each","i","find","dotsPosition","css","left","changeActiveStatus","$view","removeClass","eq","addClass","dots","scrollTo","plugin","stop","animate","scrollTop","easing","duration","promise","then","setTimeout","callback","scrollByWheel","event","originalEvent","wheelDelta","detail","scrollUp","scrollDown","vh","height","vw","width","body","documentElement","splice","viewOffset","offset","top","push","bind","on","e","preventDefault","keyCode","which","touches","clientY","te","changedTouches","off","onViewChange","data","jQuery"],"mappings":"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"}